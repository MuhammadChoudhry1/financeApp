// frontend/App.js

import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';
import * as Linking from 'expo-linking';
// Screens
import HomePage from '../app/Screens/homepage'; // Update the import for HomePage
import IncomeDocumentation from '../app/Screens/incomeDocumentation';
import ExpenseTracking from '../app/Screens/expensetracking';
import CreateAccount from '../app/Screens/create_account';
import Login from '../app/Screens/login';
import Graphs from '../app/Screens/graphs';
import ForgotPassword from '../app/Screens/forgot-password';
import ResetPassword from '../app/Screens/reset-password';
import BudgetTracking from '../app/Screens/budget';
import SavingGoals from '../app/Screens/saving_goals';
import IndexPage from '../app/Screens/index'; 
const Stack = createStackNavigator();

// Linking config for deep linking and web routing
const linking = {
  prefixes: [Linking.createURL('/')],
  config: {
    screens: {
      IndexPage: '', // root path goes to index page
      Login: 'login',
      ResetPassword: 'reset-password',
      ForgotPassword: 'forgot-password',
      HomePage: 'home', // Ensure HomePage route is correctly linked
      CreateAccount: 'create-account',
      IncomeDocumentation: 'income',
      ExpenseTracking: 'expenses',
      Graphs: 'graphs',
      BudgetTracking: 'budget',
      SavingGoals: 'saving-goals',
    },
  },
};

const App = () => {
  return (
    <NavigationContainer linking={linking}>
      <Stack.Navigator initialRouteName="IndexPage" screenOptions={{ headerShown: false }}>
        <Stack.Screen name="IndexPage" component={IndexPage} />
        <Stack.Screen name="Login" component={Login} />
        <Stack.Screen name="ResetPassword" component={ResetPassword} />
        <Stack.Screen name="ForgotPassword" component={ForgotPassword} />
        <Stack.Screen name="HomePage" component={HomePage} />
        <Stack.Screen name="CreateAccount" component={CreateAccount} />
        <Stack.Screen name="IncomeDocumentation" component={IncomeDocumentation} />
        <Stack.Screen name="ExpenseTracking" component={ExpenseTracking} />
        <Stack.Screen name="Graphs" component={Graphs} />
        <Stack.Screen name="BudgetTracking" component={BudgetTracking} />
        <Stack.Screen name="SavingGoals" component={SavingGoals} />
      </Stack.Navigator>
    </NavigationContainer>
  );
};

export default App;
